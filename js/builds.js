gsap.registerPlugin(ScrollTrigger,ScrollSmoother,ScrollToPlugin),ScrollSmoother.create({smooth:.5,effects:!0,smoothTouch:2}),gsap.utils.toArray(".animate-section").forEach((e=>{gsap.fromTo(e,{opacity:0},{opacity:1,duration:.5,ease:"power1.out",scrollTrigger:{trigger:e,start:"top 80%",toggleActions:"play none none reverse"}})})),gsap.utils.toArray(".animate-box").forEach((e=>{ScrollTrigger.create({trigger:e,start:"top 80%",end:"top 40%",onEnter:()=>{gsap.to(e,{width:0,duration:.5})},onLeaveBack:()=>{gsap.to(e,{width:"100%",duration:.5})}})})),gsap.registerPlugin(ScrollTrigger);const images=[".pin1-image",".pin2-image",".pin3-image",".pin6-image"];function showOnly(e){images.forEach((t=>{const o=document.querySelector(t);o&&o.classList.toggle("hide",t!==e)}))}const pinConfigs=[{selector:".pin1-image",trigger:".section-text1",start:"top top",end:"+=140%",yPercent:-25,scale:1.2},{selector:".pin2-image",trigger:".section-text2",start:"-80% top",end:"+=200%",yPercent:0,scale:1.3},{selector:".pin3-image",trigger:".section-text3",start:"-100% top",end:"+=200%",yPercent:-25,scale:1.5},{selector:".pin6-image",trigger:".pin5-section",start:"-100% top",end:"+=300%",yPercent:0,scale:1.3}];pinConfigs.forEach((({selector:e,trigger:t,start:o,end:r,yPercent:n,scale:s})=>{const c=document.querySelector(e);gsap.to(e,{yPercent:n,scale:s,ease:"none",scrollTrigger:{trigger:t,start:o,end:r,scrub:!0,onEnter:()=>{showOnly(e),gsap.to(c,{opacity:1,y:0,duration:.5,ease:"power2.out"})},onEnterBack:()=>{showOnly(e),gsap.to(c,{opacity:1,y:0,duration:.5,ease:"power2.out"})},onLeave:()=>{gsap.to(c,{opacity:0,duration:.5,ease:"power2.inOut"})}}})})),gsap.to(".pin4-section",{yPercent:-25,scale:1.5,ease:"none",scrollTrigger:{trigger:".section-text4",start:"-50% top",end:"+=200%",scrub:!0}}),gsap.to(".pin5-section",{yPercent:-125,ease:"none",scrollTrigger:{trigger:".section-text4",start:"-50% top",end:"+=200%",scrub:!0}}),gsap.to(".pin7-section",{scale:.95,ease:"none",scrollTrigger:{trigger:".infrastructure",start:"-50% top",end:"+=200%",scrub:!0}}),gsap.to(".numbers",{yPercent:0,ease:"none",scrollTrigger:{trigger:".numbers",start:"-50%",end:"+=50%",scrub:!0}}),document.querySelectorAll(".tabs__item").forEach((e=>{const t=e.querySelector(".tabs__itemText");gsap.set(t,{height:0,overflow:"hidden"}),e.addEventListener("click",(()=>{const o=e.classList.contains("_open");document.querySelectorAll(".tabs__item").forEach((e=>{e.classList.remove("_open");const t=e.querySelector(".tabs__itemText");gsap.to(t,{height:0,duration:.3,ease:"power2.inOut"})})),o?"undefined"!=typeof ScrollTrigger&&ScrollTrigger.refresh():(e.classList.add("_open"),gsap.to(t,{height:"auto",duration:.4,ease:"power2.out",onComplete:()=>{"undefined"!=typeof ScrollTrigger&&ScrollTrigger.refresh()}}))}))})),document.querySelectorAll('.js-menu a[href^="#"]:not(.open-popup)').forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault();const t=this.getAttribute("href"),o=document.querySelector(t);o?(document.body.classList.remove("_menu"),gsap.to(window,{duration:1,scrollTo:{y:o,offsetY:50},ease:"power2.out"})):console.warn("Target not found for selector:",t)}))}));const popup=document.getElementById("popup"),openBtns=document.querySelectorAll(".open-popup"),closeBtn=popup.querySelector(".popup__close");openBtns.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),popup.classList.add("active")}))})),closeBtn.addEventListener("click",(()=>{popup.classList.remove("active")})),popup.addEventListener("click",(e=>{e.target===popup&&popup.classList.remove("active")})),document.querySelector(".siteheader__burger").addEventListener("click",(function(){document.body.classList.add("_menu")})),document.querySelector(".mobilemenu__close").addEventListener("click",(function(){document.body.classList.remove("_menu")}));
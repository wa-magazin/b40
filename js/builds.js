gsap.registerPlugin(ScrollTrigger,ScrollToPlugin),gsap.utils.toArray(".animate-section").forEach((e=>{gsap.fromTo(e,{opacity:0},{opacity:1,duration:.5,ease:"power1.out",scrollTrigger:{trigger:e,start:"top 80%",toggleActions:"play none none reverse"}})})),gsap.utils.toArray(".animate-box").forEach((e=>{ScrollTrigger.create({trigger:e,start:"top 80%",end:"top 40%",onEnter:()=>{gsap.to(e,{width:0,duration:.5})},onLeaveBack:()=>{gsap.to(e,{width:"100%",duration:.5})}})})),gsap.registerPlugin(ScrollTrigger);const isMobile=window.innerWidth<1268,backgrounds={".trigger-1":{bg:".bg-1",start:isMobile?"-50% center":"-60% center",end:isMobile?"130% center":"150% center"},".trigger-2":{bg:".bg-2",start:isMobile?"-100% center":"-40% center",end:isMobile?"220% center":"140% center"},".trigger-3":{bg:".bg-3",start:isMobile?"-80% center":"-40% center",end:"150% center"},".trigger-4":{bg:".bg-4",start:isMobile?"-80% center":"-40% center",end:"150% center"}};function isFirstTrigger(e){return e===Object.keys(backgrounds)[0]}function isLastTrigger(e){const t=Object.keys(backgrounds);return e===t[t.length-1]}function showOnlyBackground(e){document.querySelectorAll(".bg").forEach((t=>{t.style.opacity=t.matches(e)?"1":"0"}))}function hideAllBackgrounds(){document.querySelectorAll(".bg").forEach((e=>{e.style.opacity="0"}))}if(Object.entries(backgrounds).forEach((([e,t])=>{ScrollTrigger.create({trigger:e,start:t.start,end:t.end,onToggle:e=>{if(e.isActive)showOnlyBackground(t.bg);else{document.querySelector('.bg[style*="opacity: 1"]')||hideAllBackgrounds()}},scrub:!0})})),isMobile){if(document.getElementById("intro")&&document.querySelector(".logo svg")){const e=gsap.timeline({onComplete:()=>{document.body.classList.remove("locked"),document.getElementById("intro").style.display="none"}});e.to("#intro",{duration:1}).to("#intro",{backgroundColor:"#888063",duration:1},">").to(".logo svg",{width:"100vw",height:"100vh",opacity:1,duration:.9,ease:"power1.out"},"<").to("#intro",{opacity:0,duration:.5,ease:"power1.out"},"-=0.6").to(".siteheader__img",{opacity:1,duration:0,ease:"power1.out"},"-=1.4").to(".siteheader__menu ul",{opacity:1,duration:1,y:"0rem",ease:"power1.out"},"-=0.4").to(".siteheader__heroBg",{y:"30rem",ease:"power1.out"},"-=0.4"),document.querySelector(".siteheader__welcome")&&e.to(".siteheader__welcome",{y:"-80rem",opacity:1,duration:.5},"-=0.5"),document.querySelector(".siteheader__heroAni")&&e.to(".siteheader__heroAni",{y:"20px",opacity:1,duration:.5},"-=0.8")}gsap.to(".trigger-1-mobile img",{scale:1.5,y:-50,ease:"none",scrollTrigger:{trigger:".trigger-1",start:"-100% top",end:"+=250%",scrub:!0}}),gsap.to(".trigger-2-mobile img",{scale:1.5,y:-50,ease:"none",scrollTrigger:{trigger:".trigger-2",start:"-100% top",end:"+=250%",scrub:!0}}),gsap.to(".trigger-3-mobile img",{scale:1.5,y:-50,ease:"none",scrollTrigger:{trigger:".trigger-3",start:"-100% top",end:"+=250%",scrub:!0}}),gsap.to(".trigger-4-mobile img",{scale:1.5,y:-250,ease:"none",scrollTrigger:{trigger:".trigger-4",start:"-100% top",end:"+=250%",scrub:!0}})}else{if(document.getElementById("intro")&&document.querySelector(".logo svg")){const e=gsap.timeline({onComplete:()=>{document.body.classList.remove("locked"),document.getElementById("intro").style.display="none"}});e.to("#intro",{duration:1}).to("#intro",{backgroundColor:"#888063",duration:1},">").to(".logo svg",{width:"100vw",height:"100vh",opacity:1,duration:.9,ease:"power1.out"},"<").to("#intro",{opacity:0,duration:1,ease:"power1.out"},"-=0.6").to(".siteheader__img",{opacity:1,duration:1,ease:"power1.out"},"-=1.4").to(".siteheader__menu ul",{opacity:1,duration:1,y:"0rem",ease:"power1.out"},"-=0.4").to(".siteheader__imgPc",{scale:1.1,opacity:1,duration:.5}).to(".siteheader__heroBg",{y:"30rem",ease:"power1.out"},"=0.4"),document.querySelector(".siteheader__welcome")&&e.to(".siteheader__welcome",{y:"-80rem",opacity:1,duration:.5},"-=0.5"),document.querySelector(".siteheader__heroAni")&&e.to(".siteheader__heroAni",{opacity:1,duration:.5},"-=0.8")}gsap.to(".bg-1",{scale:1.1,y:-300,ease:"none",scrollTrigger:{trigger:".trigger-1",start:"-100% top",end:"+=250%",scrub:!0}}),gsap.to(".bg-2",{scale:1.2,y:-200,ease:"none",scrollTrigger:{trigger:".trigger-2",start:"-100% top",end:"+=250%",scrub:!0}}),gsap.to(".bg-3",{scale:1.1,y:-300,ease:"none",scrollTrigger:{trigger:".trigger-3",start:"-100% top",end:"+=250%",scrub:!0}}),gsap.to(".bg-4",{scale:1.1,y:-300,ease:"none",scrollTrigger:{trigger:".trigger-4",start:"-100% top",end:"+=250%",scrub:!0}}),gsap.to(".pin4-section",{scale:1.4,ease:"none",scrollTrigger:{trigger:".pin4-section",start:"-50%",end:"+=50%",scrub:!0}}),gsap.to(".pin7-section",{scale:1.4,ease:"none",scrollTrigger:{trigger:".pin7-section",start:"-50%",end:"+=50%",scrub:!0}}),gsap.to(".section-text1",{y:"-300px",ease:"none",scrollTrigger:{trigger:".section-text1",start:"-150%",end:"+=50%",scrub:!0}}),gsap.to(".siteheader__heroAni",{y:"-250px",ease:"none",scrollTrigger:{trigger:".siteheader__img",start:"20%",end:"+=60%",scrub:!0}}),gsap.to(".siteheader__img img",{y:"-150px",ease:"none",scrollTrigger:{trigger:".siteheader__img",start:"30%",end:"+=60%",scrub:!0}})}document.querySelectorAll(".tabs__item").forEach((e=>{const t=e.querySelector(".tabs__itemText");gsap.set(t,{height:0,overflow:"hidden"}),e.addEventListener("click",(()=>{const o=e.classList.contains("_open");document.querySelectorAll(".tabs__item").forEach((e=>{e.classList.remove("_open");const t=e.querySelector(".tabs__itemText");gsap.to(t,{height:0,duration:.3,ease:"power2.inOut"})})),o?"undefined"!=typeof ScrollTrigger&&ScrollTrigger.refresh():(e.classList.add("_open"),gsap.to(t,{height:"auto",duration:.4,ease:"power2.out",onComplete:()=>{"undefined"!=typeof ScrollTrigger&&ScrollTrigger.refresh()}}))}))})),document.querySelectorAll('.js-menu a[href^="#"]:not(.open-popup)').forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault();const t=this.getAttribute("href"),o=document.querySelector(t);o?(document.body.classList.remove("_menu"),o.scrollIntoView({behavior:"smooth",block:"start"})):console.warn("Target not found for selector:",t)}))})),document.querySelectorAll(".mobilemenu a").forEach((e=>{e.addEventListener("click",(function(e){const t=this.getAttribute("href");if(!t||"#"===t)return;const o=new URL(t,location.origin);if(o.pathname.endsWith(".pdf")||o.hostname!==location.hostname)return;const r=o.hash?o.hash.substring(1):null;if(r&&"/"===o.pathname&&"/"===location.pathname){e.preventDefault(),document.body.classList.remove("_menu");const t=document.getElementById(r);t?t.scrollIntoView({behavior:"smooth",block:"start"}):console.warn("Target not found: #"+r)}else r&&"/"===o.pathname&&"/"!==location.pathname&&(e.preventDefault(),window.location.href="/#"+r)}))}));const popup=document.getElementById("popup"),openBtns=document.querySelectorAll(".open-popup"),closeBtn=popup.querySelector(".popup__close");openBtns.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),popup.classList.add("active")}))})),closeBtn.addEventListener("click",(()=>{popup.classList.remove("active")})),popup.addEventListener("click",(e=>{e.target===popup&&popup.classList.remove("active")})),document.querySelector(".siteheader__burger").addEventListener("click",(function(){document.body.classList.add("_menu")})),document.querySelector(".mobilemenu__close").addEventListener("click",(function(){document.body.classList.remove("_menu")})),document.querySelectorAll(".teams__tabsItemHeader").forEach((e=>{e.addEventListener("click",(()=>{const t=e.closest(".teams__tabsItem"),o=e.querySelector(".teams__tabsItemText, .teams__tabsText");if(document.querySelectorAll(".teams__tabsItem").forEach((e=>{const o=e.querySelector(".teams__tabsItemText, .teams__tabsText");e!==t&&(e.classList.remove("_open"),o&&gsap.to(o,{height:0,opacity:0,duration:.3,ease:"power1.inOut"}))})),!t.classList.contains("_open")&&(t.classList.add("_open"),o)){const e=o.scrollHeight;gsap.fromTo(o,{height:0,opacity:0,overflow:"hidden"},{height:e,opacity:1,duration:.4,ease:"power1.out"})}}))})),Fancybox.bind('[data-fancybox="floors"]',{Thumbs:!1,Toolbar:!0});const swiper=new Swiper(".floors-swiper",{navigation:{nextEl:".button-next",prevEl:".button-prev"},slidesPerView:1,spaceBetween:30,loop:!0});document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".numbers__item").forEach(((e,t)=>{const o=e.querySelector("h2"),r=o.dataset.number,n=parseFloat(r.replace(/[^\d.]/g,"")),i=r.includes("+")?"+":"",s=r.replace(/[\d.,+]/g,"").trim(),a=r.includes(".")?2:0,c=document.createElement("span");c.style.visibility="hidden",c.style.position="absolute",c.style.whiteSpace="nowrap",c.style.font=getComputedStyle(o).font,c.textContent=r,document.body.appendChild(c),o.style.minWidth=c.offsetWidth+"px",document.body.removeChild(c);const l=()=>{gsap.fromTo(o,{innerText:0},{innerText:n,duration:2,ease:"power1.out",snap:{innerText:1},onUpdate:function(){o.innerText=Number(o.innerText).toLocaleString("en-US",{minimumFractionDigits:a,maximumFractionDigits:a})+(s?" "+s:"")+i}})};ScrollTrigger.create({trigger:e,start:"top 100%",onEnter:()=>{gsap.fromTo(e,{opacity:0,y:20},{opacity:1,y:0,duration:.6,delay:.3*t,ease:"power2.out"}),setTimeout(l,300*t)},onEnterBack:()=>{o.innerText=n.toLocaleString("en-US",{minimumFractionDigits:a,maximumFractionDigits:a})+(s?" "+s:"")+i,gsap.to(e,{opacity:1,y:0,duration:.3})}})}))}));
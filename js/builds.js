gsap.registerPlugin(ScrollTrigger,ScrollSmoother,ScrollToPlugin),ScrollSmoother.create({smooth:1,effects:!0,smoothTouch:2}),gsap.utils.toArray(".animate-section").forEach((e=>{gsap.fromTo(e,{opacity:0},{opacity:1,duration:.5,ease:"power1.out",scrollTrigger:{trigger:e,start:"top 80%",toggleActions:"play none none reverse"}})})),gsap.utils.toArray(".animate-box").forEach((e=>{ScrollTrigger.create({trigger:e,start:"top 80%",end:"top 40%",onEnter:()=>{gsap.to(e,{width:0,duration:.5})},onLeaveBack:()=>{gsap.to(e,{width:"100%",duration:.5})}})})),gsap.registerPlugin(ScrollTrigger);const tl=gsap.timeline({onComplete:()=>{document.body.classList.remove("locked"),document.getElementById("intro").style.display="none"}});tl.to("#intro",{duration:1}).to("#intro",{backgroundColor:"#888063",duration:1},">").to(".logo svg",{width:"100vw",height:"100vh",opacity:1,duration:.9,ease:"power1.out"},"<").to("#intro",{opacity:0,duration:1,ease:"power1.out"},"-=0.6").to(".siteheader__welcome",{y:"-80rem",opacity:1,duration:.5},"-=0.5").to(".siteheader__heroAni",{opacity:1,duration:.5},"-=0.8");const isMobile=window.innerWidth<1268,backgrounds={".trigger-1":{bg:".bg-1",start:isMobile?"-50% center":"-60% center",end:isMobile?"130% center":"150% center"},".trigger-2":{bg:".bg-2",start:isMobile?"-20% center":"-40% center",end:isMobile?"220% center":"140% center"},".trigger-3":{bg:".bg-3",start:"-40% center",end:"150% center"},".trigger-4":{bg:".bg-4",start:"-40% center",end:"150% center"}};function showOnlyBackground(e){document.querySelectorAll(".bg").forEach((t=>{t.style.opacity=t.matches(e)?"1":"0"}))}function hideAllBackgrounds(){document.querySelectorAll(".bg").forEach((e=>{e.style.opacity="0"}))}Object.entries(backgrounds).forEach((([e,t])=>{ScrollTrigger.create({trigger:e,start:t.start,end:t.end,onEnter:()=>showOnlyBackground(t.bg),onEnterBack:()=>showOnlyBackground(t.bg),onLeave:()=>hideAllBackgrounds(),onLeaveBack:()=>hideAllBackgrounds()})})),gsap.to(".bg-1",{yPercent:-25,scale:1.5,ease:"none",scrollTrigger:{trigger:".trigger-1",start:"-50% top",end:"+=200%",scrub:!0}}),gsap.to(".bg-2",{yPercent:-10,scale:1.5,ease:"none",scrollTrigger:{trigger:".trigger-2",start:"-150% top",end:"+=250%",scrub:!0}}),gsap.to(".bg-3",{scale:1.2,y:-530,ease:"none",scrollTrigger:{trigger:".trigger-3",start:"-50% top",end:"+=250%",scrub:!0}}),gsap.to(".bg-4",{scale:1.2,ease:"none",scrollTrigger:{trigger:".trigger-4",start:"-150% top",end:"+=250%",scrub:!0}}),gsap.to(".pin4-section",{scale:1.4,ease:"none",scrollTrigger:{trigger:".pin4-section",start:"-50%",end:"+=50%",scrub:!0}}),gsap.to(".section-text1",{y:"-300px",ease:"none",scrollTrigger:{trigger:".section-text1",start:"-150%",end:"+=50%",scrub:!0}}),document.querySelectorAll(".tabs__item").forEach((e=>{const t=e.querySelector(".tabs__itemText");gsap.set(t,{height:0,overflow:"hidden"}),e.addEventListener("click",(()=>{const o=e.classList.contains("_open");document.querySelectorAll(".tabs__item").forEach((e=>{e.classList.remove("_open");const t=e.querySelector(".tabs__itemText");gsap.to(t,{height:0,duration:.3,ease:"power2.inOut"})})),o?"undefined"!=typeof ScrollTrigger&&ScrollTrigger.refresh():(e.classList.add("_open"),gsap.to(t,{height:"auto",duration:.4,ease:"power2.out",onComplete:()=>{"undefined"!=typeof ScrollTrigger&&ScrollTrigger.refresh()}}))}))})),document.querySelectorAll('.js-menu a[href^="#"]:not(.open-popup)').forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault();const t=this.getAttribute("href"),o=document.querySelector(t);o?(document.body.classList.remove("_menu"),gsap.to(window,{duration:1,scrollTo:{y:o,offsetY:50},ease:"power2.out"})):console.warn("Target not found for selector:",t)}))}));const popup=document.getElementById("popup"),openBtns=document.querySelectorAll(".open-popup"),closeBtn=popup.querySelector(".popup__close");openBtns.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),popup.classList.add("active")}))})),closeBtn.addEventListener("click",(()=>{popup.classList.remove("active")})),popup.addEventListener("click",(e=>{e.target===popup&&popup.classList.remove("active")})),document.querySelector(".siteheader__burger").addEventListener("click",(function(){document.body.classList.add("_menu")})),document.querySelector(".mobilemenu__close").addEventListener("click",(function(){document.body.classList.remove("_menu")}));